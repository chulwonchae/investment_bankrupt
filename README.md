# RETURNUP **"í•œê³„ê¸°ì—… ì˜ˆì¸¡ ëª¨í˜•ì„ í†µí•œ íšŒìƒê¸°ì—… íˆ¬ì ì „ëµ ê²€ì¦ ë° ìˆ˜ìµë¥  ë¹„êµ"**
<br><br>

ğŸ†Â 2022 UBION Project2

![á„‰á…³á†¯á„…á…¡á„‹á…µá„ƒá…³1](https://user-images.githubusercontent.com/88031549/210496313-5ffc49fd-79cd-4f29-a5dc-cfd0fbe2a4eb.png)

![á„‰á…³á†¯á„…á…¡á„‹á…µá„ƒá…³6](https://user-images.githubusercontent.com/88031549/210496374-9d83bf4f-32b9-41f6-8f87-6e365a3c7b28.png)

![á„‰á…³á†¯á„…á…¡á„‹á…µá„ƒá…³18](https://user-images.githubusercontent.com/88031549/210496578-a88968ac-9e0c-4c55-9ab8-03a9ddf5d0f3.png)

![á„‰á…³á†¯á„…á…¡á„‹á…µá„ƒá…³75](https://user-images.githubusercontent.com/88031549/210510808-f6a218f5-8478-4e79-846e-28823181f3fc.png)

---
# **í”„ë¡œì íŠ¸ ì†Œê°œ**

---
# **êµ¬ì¡°**


## **0. ë°ì´í„° ìˆ˜ì§‘**
- ì¶œì²˜ : KRX & TS200
- ìˆ˜ì§‘ê¸°ê°„ : 2011 ~ 2019(IFRSë„ì… ì´í›„ ~ ì½”ë¡œë‚˜ ì´ì „)
- ëŒ€ìƒì¢…ëª© : KOSPI & KOSDAQ ìƒì¥ê¸°ì—…
- ì œê±° ì¢…ëª© : ê¸ˆìœµ ë° ë³´í—˜ì—…, ìŠ¤íŒ©ì£¼, ìƒì¥íì§€, ì™¸êµ­ê³„ê¸°ì—…
- ì„ ì • í”¼ì³ : ì´ 80ê°œ(ì¬ë¬´ì¬í‘œë°ì´í„° + íŒŒìƒë³€ìˆ˜ + ì£¼ê°€ë°ì´í„°)

## **1. Preprocessing**
- ê±°ë˜ì†Œì½”ë“œê°€ 2ê°œì¸ ê¸°ì—…(26ê°œ) ì¤‘ë³µ ì œê±°
- íšŒì‚¬ëª…ì´ 2ê°œì¸ ê±°ë˜ì†Œì½”ë“œ ì¤‘ë³µ í™•ì¸
- ë°ì´í„°ê°€ í•˜ë‚˜ ë°–ì— ì—†ëŠ” ê¸°ì—… ë°ì´í„° ì‚­ì œ
- ì—°ê²°ì œë¬´ì¬í‘œë°ì´í„° ë³„ë„ì œë¬´ì¬í‘œë°ì´í„°ë¡œ ëŒ€ì²´
- 999999 (inf, -inf) ì œê±°(ì´ìë³´ìƒë°°ìœ¨ ì œì™¸)
- ì´ìë³´ìƒë°°ìœ¨ì˜ inf ê°’ì€ winsorizing ì²˜ë¦¬
- ì–‘ê·¹ë‹¨ì¹˜ 2.5%ì”© winsorizing(Object í”¼ì³ ì œì™¸)
- íŒŒìƒë³€ìˆ˜(ì¦ê°€ìœ¨) ì´ìƒì¹˜ ì²˜ë¦¬
  - ì „ë…„ë„, ì˜¬í•´ ê°’ì´ ì¡´ì¬í•  ê²½ìš° ì¦ê°€ìœ¨ ì»¬ëŸ¼ ìƒì„± 
  - ì „ë…„ë„(0) & ì˜¬í•´(0)  :  ì¦ê°€ìœ¨ =0
  - ì „ë…„ë„(0) & ì˜¬í•´(0ì´ìƒ) : drop
  - infê°€ ë§ì´ ìƒì„±ë˜ëŠ” ì»¬ëŸ¼ì€ drop
- ì ì¬í•œê³„ê¸°ì—…(2ë…„ ì—°ì† ì´ìë³´ìƒë°°ìœ¨ì´ 1ë¯¸ë§Œì¸ ê¸°ì—…)ìœ¼ë¡œ í•„í„°ë§
  - ê¸°ì—…ë‹¹ ë°ì´í„°ëŠ” 1ê°œ(ìµœì´ˆ ì ì¬í•œê³„ ë°ì´í„°ë§Œ ì‚¬ìš©)

## 2. Labeling
- Label1 : í•œê³„ê¸°ì—…((t+1)ë…„ë„ì— ì´ìë³´ìƒë°°ìœ¨ì´ 1ë¯¸ë§Œì¸ ê¸°ì—….(3ë…„ ì—°ì†))
- Label0 : íšŒìƒê¸°ì—…((t+1)ë…„ë„ì— ì´ìë³´ìƒë°°ìœ¨ì´ 1ì´ìƒì¸ ê¸°ì—…. ì¦‰ ì ì¬í•œê³„ê¸°ì—… ì¤‘ ì •ìƒí™”ëœ ê¸°ì—…)

## 3. Data split & Scaling
- Train set : 2012 ~ 2016
- Test set : 2017, 2018
- Scaling : Train set, test set ê°ê° Standard scaling(Data Leakage ë°©ì§€)

## 4. Feature Selection
- Train setìœ¼ë¡œë§Œ Feature Selection
- ê²€ì •
  - ì •ê·œì„±ê²€ì •(Shapiro, Anderson, KS test, Jarque_bera test, Normal test, Dist plot, qq plot)
  - ë…ë¦½ì„±ê²€ì •(Durbin-Watson)
  - ë“±ë¶„ì‚°ê²€ì •(Bartlett test)
- ì•„ë˜ 4ê°œ ëª¨ë¸ ì¤‘ 3ê°œ ì´ìƒ ì¤‘ë³µ í”¼ì³ë¥¼ ìµœì¢… ì„ íƒ
  - T-test(í†µê³„ë¶„ì„)
  - Lasso(Wrapper Method)
  - Stepwise(Embbeded Method)
  - Kbest(Filter Method)

## 3. Modeling

[ë‹¨ì¼ë¶„ë¥˜]
- Logistic
- KNN
- Decision Tree
- Naive Bayes
- SVM

[Ensamble]
- Random Forest
**- XGB**
- LGBM
- Voting
- Stacking

[Deeplearning]
- TabNet

**-> ìµœì¢…ëª¨ë¸ : XGBClaasifier**


## 4. Evaluation(Test set)
- ACC : 0,73
- Precision : 0.73
- Recall : 0.97
- F1-score : 0.83
- AUC : 0.59

[Recallì´ ìƒëŒ€ì ìœ¼ë¡œ ë†’ì€ ì„±ëŠ¥ì„ ë³´ì´ëŠ” ëª¨ë¸]
- ì´ë¥¼ í†µí•´ í•œê³„ê¸°ì—…ìœ¼ë¡œ ë§ì´ ì˜ˆì¸¡í•˜ì—¬ íšŒìƒê¸°ì—…ì´ë¼ê³  ì˜ëª» ì˜ˆì¸¡í–ˆì„ ë•Œì˜ ë¦¬ìŠ¤í¬ë¥¼ ì¤„ì„
- íšŒìƒê¸°ì—…(0)ì˜ ê´€ì ì—ì„œëŠ” í™•ì‹¤í•œ íšŒìƒê¸°ì—…ë§Œ íšŒìƒì´ë¼ê³  ì˜ˆì¸¡í•˜ê¸°ì— íˆ¬ìì— í™œìš©í•˜ê¸° ì¢‹ì€ ëª¨ë¸ 


## 5. íˆ¬ì
- ë°±í…ŒìŠ¤íŒ… ê¸°ê°„ : 2013.04~2019.12(íšŒê³„ë…„ë„ê¸°ì¤€ (t+1)ë…„ 4ì›”ë¶€í„° (t+2)ë…„ 3ì›”ê¹Œì§€)
- íˆ¬ììœ ë‹ˆë²„ìŠ¤ : 2012~2018 ì¤‘ ì˜ˆìƒíšŒìƒê¸°ì—…
- ë²¤ì¹˜ë§ˆí¬ : íˆ¬ììœ ë‹ˆë²„ìŠ¤ì˜ ì „ì¢…ëª© ë™ë“±ë¹„ì¤‘/Buy&Hold ìˆ˜ìµë¥ 


[ë°±í…ŒìŠ¤íŒ…]
- ì—°ë„ë§ˆë‹¤ ì´ 15(3x5)ê°€ì§€ì˜ íˆ¬ì
 - ì¢…ëª©ë³„ íˆ¬ìë¹„ì¤‘(3) : ë™ë“±ë¹„ì¤‘ / ìƒ¤í”„ì§€ìˆ˜ ìµœëŒ€í™” / ë¦¬ìŠ¤í¬ ìµœì†Œí™”
 - ë§¤ë§¤ì „ëµ : Buy&Hold / ì¶”ì„¸ì¶”ì¢…1/ ì¶”ì„¸ì¶”ì¢…2 / ì¶”ì„¸ì¶”ì¢…3 / ì—­ì¶”ì„¸

- í‰ê°€
  - ë²¤ì¹˜ë§ˆí¬ì™€ CAGR/ Sharpe ratioë¡œ ë¹„êµí‰ê°€(ë§¤ë…„)


**-> ë™ë“±ë¹„ì¤‘ x ì—­ì¶”ì„¸ ì „ëµì´ ìµœì **


(*ì•„ë˜ pptì˜ˆì‹œ)

![á„‰á…³á†¯á„…á…¡á„‹á…µá„ƒá…³7](https://user-images.githubusercontent.com/88031549/210512497-3c48b935-b056-4a3a-a8e1-40c8eab07cb3.png)

![á„‰á…³á†¯á„…á…¡á„‹á…µá„ƒá…³59](https://user-images.githubusercontent.com/88031549/210512614-d70995e6-d509-4e08-8c57-507585cbee29.png)

![á„‰á…³á†¯á„…á…¡á„‹á…µá„ƒá…³62](https://user-images.githubusercontent.com/88031549/210512677-5efb4d45-ddb2-49ba-aca2-6d7f0b6de407.png)

![á„‰á…³á†¯á„…á…¡á„‹á…µá„ƒá…³67](https://user-images.githubusercontent.com/88031549/210512752-ab9a91e8-3e91-49b8-b133-24e2e4d6a382.png)

![á„‰á…³á†¯á„…á…¡á„‹á…µá„ƒá…³87](https://user-images.githubusercontent.com/88031549/210512974-2d5083ff-95ca-43ef-b341-e878fdb70cba.png)

![á„‰á…³á†¯á„…á…¡á„‹á…µá„ƒá…³89](https://user-images.githubusercontent.com/88031549/210513071-15ace45c-d6c0-4a28-8728-0666d58ab5c7.png)